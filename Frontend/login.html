<!DOCTYPE html>
<html>
<head>
	<title>Login | Room Management System</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
	
	<main>
		<div class="login-container">
			<img src="pngegg.png" alt="Logo" class="login-logo">
			<form id="login-form">
				
				<label for="role">Choose a role:</label>
				<select id="role" name="role">
					<option value="Company">Company</option>
					<option value="Admin">Admin</option>
				</select>
				<br><br>
				<label for="username">Username/Email:</label>
				<input type="email" id="username" name="email" required>
				<label for="password">Password:</label>
				<input type="password" id="password" name="password" required>
				<input type="submit" value="Log in"> 
				<a href="http://www.google.com/"><label>Sign up?</label></a>
			</form>
		</div>
	</main>

	<script>
		$(document).ready(function() {
			$("#login-form").on("submit", function(event) {
				event.preventDefault(); // Prevent form submission

				// Get form values
				var role = $("#role").val();
				var email = $("#username").val();
				var password = $("#password").val();

				// Prepare the data for API call
				var data = {
					email: email,
					password: password,
					role: role
				};

				// Make AJAX call
				$.ajax({
					url: "https://localhost:7066/api/Employee",
					type: "POST",
					dataType: "json",
					contentType: "application/json",
					data: JSON.stringify(data),
					success: function(response) {
						// Handle successful response
						alert("Login successful!"); // Show success message
						// Perform further actions like redirecting or other operations
					},
					error: function(xhr, status, error) {
						// Handle error
						alert("Login failed. Please check your credentials and try again."); // Show error message
						
					}
				});
			});
		});
	</script>
</body>
</html>
